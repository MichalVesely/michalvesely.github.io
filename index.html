<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MotorMarket - Motorsport Marketplace & Classifieds</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Buy and sell motorsport cars, racing parts, safety gear, and equipment. The premier marketplace for racing enthusiasts and professionals." />
  <meta name="keywords" content="motorsport, racing cars, race car parts, safety gear, track day cars, racing equipment, motorsport marketplace" />
  <meta name="author" content="MotorMarket" />

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MotorMarket - Motorsport Marketplace" />
  <meta property="og:description" content="Buy and sell motorsport cars, racing parts, and equipment" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=1200&h=630&fit=crop" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="MotorMarket - Motorsport Marketplace" />
  <meta name="twitter:description" content="Buy and sell motorsport cars, racing parts, and equipment" />

  <style>
    :root {
      --primary: #e10600;
      --primary-dark: #b30500;
      --secondary: #1a1a1a;
      --accent: #ffd700;
      --bg: #0a0a0a;
      --card-bg: #1a1a1a;
      --text: #ffffff;
      --text-muted: #999999;
      --border: #333333;
      --success: #00ff00;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, var(--secondary) 0%, var(--bg) 100%);
      border-bottom: 3px solid var(--primary);
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(225, 6, 0, 0.3);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .logo {
      font-size: 2rem;
      font-weight: 900;
      background: linear-gradient(45deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -1px;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
      list-style: none;
      flex-wrap: wrap;
    }

    .nav-links a {
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
      text-transform: uppercase;
      font-size: 0.9rem;
      letter-spacing: 0.5px;
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    .btn-submit {
      background: var(--primary);
      color: white;
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 5px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-size: 0.9rem;
    }

    .btn-submit:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(225, 6, 0, 0.4);
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                  url('https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=1600&h=600&fit=crop') center/cover;
      padding: 5rem 2rem;
      text-align: center;
      border-bottom: 3px solid var(--primary);
    }

    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
      line-height: 1.2;
    }

    .hero p {
      font-size: 1.3rem;
      color: var(--text-muted);
      max-width: 800px;
      margin: 0 auto 2rem;
    }

    .search-bar {
      max-width: 700px;
      margin: 2rem auto;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .search-bar input {
      flex: 1;
      min-width: 250px;
      padding: 1rem;
      border: 2px solid var(--border);
      background: var(--card-bg);
      color: var(--text);
      border-radius: 5px;
      font-size: 1rem;
    }

    .search-bar button {
      padding: 1rem 2rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
    }

    .search-bar button:hover {
      background: var(--primary-dark);
    }

    /* Category Filter */
    .categories {
      background: var(--secondary);
      padding: 2rem;
      border-bottom: 1px solid var(--border);
    }

    .category-tabs {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
    }

    .category-tab {
      padding: 0.8rem 1.5rem;
      background: var(--card-bg);
      border: 2px solid var(--border);
      color: var(--text);
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
      letter-spacing: 0.5px;
    }

    .category-tab:hover,
    .category-tab.active {
      background: var(--primary);
      border-color: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(225, 6, 0, 0.3);
    }

    /* Listings Grid */
    .listings-section {
      padding: 3rem 2rem;
      background: var(--bg);
    }

    .section-title {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 3rem;
      position: relative;
      padding-bottom: 1rem;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .listings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .listing-card {
      background: var(--card-bg);
      border-radius: 10px;
      overflow: hidden;
      transition: all 0.3s;
      border: 1px solid var(--border);
      cursor: pointer;
    }

    .listing-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(225, 6, 0, 0.3);
      border-color: var(--primary);
    }

    .listing-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      background: var(--secondary);
    }

    .listing-content {
      padding: 1.5rem;
    }

    .listing-category {
      display: inline-block;
      background: var(--primary);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      margin-bottom: 0.5rem;
      letter-spacing: 0.5px;
    }

    .listing-title {
      font-size: 1.3rem;
      margin: 0.5rem 0;
      font-weight: 700;
      color: var(--text);
    }

    .listing-description {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin: 0.5rem 0;
      line-height: 1.5;
    }

    .listing-price {
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--accent);
      margin: 1rem 0 0.5rem;
    }

    .listing-location {
      color: var(--text-muted);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .listing-meta {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    /* Ad Placeholder */
    .ad-banner {
      background: linear-gradient(135deg, var(--card-bg), var(--secondary));
      border: 2px dashed var(--border);
      padding: 2rem;
      margin: 3rem auto;
      max-width: 728px;
      text-align: center;
      border-radius: 10px;
    }

    .ad-banner p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Submission Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 10px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border: 2px solid var(--primary);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .modal-header h2 {
      font-size: 2rem;
      color: var(--primary);
    }

    .close-modal {
      background: none;
      border: none;
      color: var(--text);
      font-size: 2rem;
      cursor: pointer;
      transition: color 0.3s;
    }

    .close-modal:hover {
      color: var(--primary);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid var(--border);
      background: var(--bg);
      color: var(--text);
      border-radius: 5px;
      font-size: 1rem;
      font-family: inherit;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    .form-submit {
      width: 100%;
      padding: 1rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .form-submit:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    /* Footer */
    footer {
      background: var(--secondary);
      border-top: 3px solid var(--primary);
      padding: 3rem 2rem 1rem;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .footer-section h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }

    .footer-section ul {
      list-style: none;
    }

    .footer-section ul li {
      margin-bottom: 0.5rem;
    }

    .footer-section a {
      color: var(--text-muted);
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-section a:hover {
      color: var(--primary);
    }

    .footer-bottom {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Featured Badge */
    .featured-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--accent);
      color: var(--bg);
      padding: 0.4rem 0.8rem;
      border-radius: 5px;
      font-weight: 900;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .listing-card {
      position: relative;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.1rem;
      }

      .listings-grid {
        grid-template-columns: 1fr;
      }

      .nav-links {
        display: none;
      }

      .logo {
        font-size: 1.5rem;
      }
    }

    /* Loading Animation */
    .loading {
      text-align: center;
      padding: 3rem;
      color: var(--text-muted);
    }

    .spinner {
      border: 4px solid var(--border);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Success Message */
    .success-message {
      background: rgba(0, 255, 0, 0.1);
      border: 2px solid var(--success);
      color: var(--success);
      padding: 1rem;
      border-radius: 5px;
      margin-bottom: 1rem;
      display: none;
    }

    .success-message.active {
      display: block;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <nav class="container">
      <div class="logo">üèÅ MotorMarket</div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#listings">Listings</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <button class="btn-submit" onclick="openSubmitModal()">List Your Item</button>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <h1>The Ultimate Motorsport Marketplace</h1>
    <p>Buy and sell racing cars, parts, safety gear, and motorsport equipment from enthusiasts worldwide</p>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search for cars, parts, gear..." />
      <button onclick="searchListings()">Search</button>
    </div>
  </section>

  <!-- Category Filters -->
  <section class="categories">
    <div class="category-tabs">
      <button class="category-tab active" onclick="filterCategory('all')">All Items</button>
      <button class="category-tab" onclick="filterCategory('cars')">Racing Cars</button>
      <button class="category-tab" onclick="filterCategory('parts')">Parts & Components</button>
      <button class="category-tab" onclick="filterCategory('gear')">Safety Gear</button>
      <button class="category-tab" onclick="filterCategory('memorabilia')">Memorabilia</button>
      <button class="category-tab" onclick="filterCategory('events')">Events & Track Days</button>
    </div>
  </section>

  <!-- Ad Banner (Monetization) -->
  <div class="container">
    <div class="ad-banner">
      <p>üì¢ Advertisement Space - Google AdSense or Affiliate Banner</p>
      <p style="font-size: 0.8rem; margin-top: 0.5rem;">Replace this with your AdSense code or affiliate banners</p>
    </div>
  </div>

  <!-- Listings Section -->
  <section class="listings-section" id="listings">
    <div class="container">
      <h2 class="section-title">Latest Listings</h2>
      <div id="listingsContainer" class="listings-grid">
        <!-- Listings will be dynamically loaded here -->
      </div>
    </div>
  </section>

  <!-- Submission Modal -->
  <div id="submitModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>List Your Item</h2>
        <button class="close-modal" onclick="closeSubmitModal()">&times;</button>
      </div>

      <div class="success-message" id="successMessage">
        ‚úÖ Your listing has been submitted successfully!
      </div>

      <form id="submitForm" onsubmit="handleSubmit(event)">
        <div class="form-group">
          <label for="itemTitle">Title *</label>
          <input type="text" id="itemTitle" required placeholder="e.g., 2015 Mazda MX-5 Cup Car" />
        </div>

        <div class="form-group">
          <label for="itemCategory">Category *</label>
          <select id="itemCategory" required>
            <option value="">Select a category</option>
            <option value="cars">Racing Cars</option>
            <option value="parts">Parts & Components</option>
            <option value="gear">Safety Gear</option>
            <option value="memorabilia">Memorabilia</option>
            <option value="events">Events & Track Days</option>
          </select>
        </div>

        <div class="form-group">
          <label for="itemPrice">Price (USD) *</label>
          <input type="number" id="itemPrice" required placeholder="15000" min="0" step="1" />
        </div>

        <div class="form-group">
          <label for="itemLocation">Location *</label>
          <input type="text" id="itemLocation" required placeholder="e.g., Los Angeles, CA" />
        </div>

        <div class="form-group">
          <label for="itemDescription">Description *</label>
          <textarea id="itemDescription" required placeholder="Describe your item in detail..."></textarea>
        </div>

        <div class="form-group">
          <label for="itemImage">Image URL</label>
          <input type="url" id="itemImage" placeholder="https://example.com/image.jpg" />
        </div>

        <div class="form-group">
          <label for="contactEmail">Your Email *</label>
          <input type="email" id="contactEmail" required placeholder="your@email.com" />
        </div>

        <button type="submit" class="form-submit">Submit Listing</button>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer id="about">
    <div class="footer-content container">
      <div class="footer-section">
        <h3>About MotorMarket</h3>
        <p>The premier marketplace for motorsport enthusiasts. Buy and sell racing cars, parts, and equipment with confidence.</p>
      </div>

      <div class="footer-section">
        <h3>Categories</h3>
        <ul>
          <li><a href="#cars">Racing Cars</a></li>
          <li><a href="#parts">Parts & Components</a></li>
          <li><a href="#gear">Safety Gear</a></li>
          <li><a href="#memorabilia">Memorabilia</a></li>
          <li><a href="#events">Events & Track Days</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Resources</h3>
        <ul>
          <li><a href="#selling-guide">Selling Guide</a></li>
          <li><a href="#buying-tips">Buying Tips</a></li>
          <li><a href="#safety">Safety & Trust</a></li>
          <li><a href="#faq">FAQ</a></li>
        </ul>
      </div>

      <div class="footer-section" id="contact">
        <h3>Contact</h3>
        <ul>
          <li><a href="mailto:info@motormarket.com">info@motormarket.com</a></li>
          <li><a href="#support">Support Center</a></li>
          <li><a href="#advertise">Advertise With Us</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom container">
      <p>&copy; 2026 MotorMarket. All rights reserved. | <a href="#privacy">Privacy Policy</a> | <a href="#terms">Terms of Service</a></p>
    </div>
  </footer>

  <script>
    // Sample listings data (In production, this would come from a database or API)
    const sampleListings = [
      {
        id: 1,
        title: "2015 Mazda MX-5 Cup Car",
        category: "cars",
        price: 45000,
        location: "Los Angeles, CA",
        description: "Fully built MX-5 Cup car with fresh engine. Race-ready with log book.",
        image: "https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=400&h=300&fit=crop",
        featured: true,
        date: "2026-01-07"
      },
      {
        id: 2,
        title: "OMP Racing Suit - Size L",
        category: "gear",
        price: 850,
        location: "Miami, FL",
        description: "FIA approved 3-layer racing suit. Barely used, excellent condition.",
        image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-07"
      },
      {
        id: 3,
        title: "AP Racing 6-Piston Brake Kit",
        category: "parts",
        price: 3200,
        location: "Austin, TX",
        description: "Complete brake kit for track use. Fits most BMW M3/M4 models.",
        image: "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-06"
      },
      {
        id: 4,
        title: "2018 Porsche 911 GT3 Cup",
        category: "cars",
        price: 185000,
        location: "Charlotte, NC",
        description: "Low hours, maintained by professional team. Ready to race.",
        image: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400&h=300&fit=crop",
        featured: true,
        date: "2026-01-06"
      },
      {
        id: 5,
        title: "Arai GP-6S Helmet",
        category: "gear",
        price: 2800,
        location: "Indianapolis, IN",
        description: "Top-of-the-line racing helmet. FIA 8860-2018 approved. Custom painted.",
        image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-05"
      },
      {
        id: 6,
        title: "Track Day at Laguna Seca",
        category: "events",
        price: 450,
        location: "Monterey, CA",
        description: "Full day track rental. March 15, 2026. Limited spots available.",
        image: "https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-05"
      },
      {
        id: 7,
        title: "Michael Schumacher Signed Helmet",
        category: "memorabilia",
        price: 15000,
        location: "New York, NY",
        description: "Authenticated race-worn helmet signed by Michael Schumacher. COA included.",
        image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop",
        featured: true,
        date: "2026-01-04"
      },
      {
        id: 8,
        title: "Motec M150 ECU Package",
        category: "parts",
        price: 5500,
        location: "Denver, CO",
        description: "Complete engine management system with sensors and wiring harness.",
        image: "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-04"
      },
      {
        id: 9,
        title: "2020 Radical SR3 RSX",
        category: "cars",
        price: 95000,
        location: "Sebring, FL",
        description: "Low mileage, perfect for club racing or track days. Full service history.",
        image: "https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-03"
      },
      {
        id: 10,
        title: "Sparco Pro ADV Racing Seat",
        category: "parts",
        price: 1200,
        location: "Phoenix, AZ",
        description: "FIA approved carbon fiber racing seat. Side mounts included.",
        image: "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-03"
      },
      {
        id: 11,
        title: "Alpinestars GP Pro V2 Suit",
        category: "gear",
        price: 1400,
        location: "Seattle, WA",
        description: "Brand new, never worn. Size 54. FIA 8856-2018 homologation.",
        image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-02"
      },
      {
        id: 12,
        title: "Formula Ford 1600 - Van Diemen",
        category: "cars",
        price: 22000,
        location: "Road Atlanta, GA",
        description: "Complete car ready to race. Fresh engine and gearbox rebuild.",
        image: "https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=400&h=300&fit=crop",
        featured: false,
        date: "2026-01-02"
      }
    ];

    let currentCategory = 'all';
    let allListings = [...sampleListings];

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      displayListings(allListings);

      // Load saved listings from localStorage
      const savedListings = localStorage.getItem('userListings');
      if (savedListings) {
        const userListings = JSON.parse(savedListings);
        allListings = [...sampleListings, ...userListings];
        displayListings(allListings);
      }
    });

    // Display listings
    function displayListings(listings) {
      const container = document.getElementById('listingsContainer');

      if (listings.length === 0) {
        container.innerHTML = '<div class="loading"><p>No listings found. Try a different category or search term.</p></div>';
        return;
      }

      container.innerHTML = listings.map(listing => `
        <div class="listing-card" data-category="${listing.category}">
          ${listing.featured ? '<div class="featured-badge">Featured</div>' : ''}
          <img src="${listing.image}" alt="${listing.title}" class="listing-image" onerror="this.src='https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400&h=300&fit=crop'" />
          <div class="listing-content">
            <span class="listing-category">${getCategoryName(listing.category)}</span>
            <h3 class="listing-title">${listing.title}</h3>
            <p class="listing-description">${listing.description}</p>
            <div class="listing-price">$${listing.price.toLocaleString()}</div>
            <div class="listing-location">üìç ${listing.location}</div>
            <div class="listing-meta">
              <span>Listed: ${listing.date}</span>
              <span><a href="mailto:seller@example.com?subject=Inquiry about ${listing.title}" style="color: var(--primary);">Contact Seller</a></span>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Filter by category
    function filterCategory(category) {
      currentCategory = category;

      // Update active tab
      document.querySelectorAll('.category-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');

      // Filter listings
      const filtered = category === 'all'
        ? allListings
        : allListings.filter(listing => listing.category === category);

      displayListings(filtered);
    }

    // Search functionality
    function searchListings() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();

      if (!searchTerm) {
        filterCategory(currentCategory);
        return;
      }

      const filtered = allListings.filter(listing =>
        listing.title.toLowerCase().includes(searchTerm) ||
        listing.description.toLowerCase().includes(searchTerm) ||
        listing.category.toLowerCase().includes(searchTerm)
      );

      displayListings(filtered);
    }

    // Get category display name
    function getCategoryName(category) {
      const names = {
        'cars': 'Racing Cars',
        'parts': 'Parts',
        'gear': 'Safety Gear',
        'memorabilia': 'Memorabilia',
        'events': 'Events'
      };
      return names[category] || category;
    }

    // Modal functions
    function openSubmitModal() {
      document.getElementById('submitModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeSubmitModal() {
      document.getElementById('submitModal').classList.remove('active');
      document.body.style.overflow = 'auto';
      document.getElementById('successMessage').classList.remove('active');
    }

    // Handle form submission
    function handleSubmit(event) {
      event.preventDefault();

      const newListing = {
        id: Date.now(),
        title: document.getElementById('itemTitle').value,
        category: document.getElementById('itemCategory').value,
        price: parseInt(document.getElementById('itemPrice').value),
        location: document.getElementById('itemLocation').value,
        description: document.getElementById('itemDescription').value,
        image: document.getElementById('itemImage').value || 'https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=400&h=300&fit=crop',
        featured: false,
        date: new Date().toISOString().split('T')[0],
        email: document.getElementById('contactEmail').value
      };

      // Add to listings
      allListings.unshift(newListing);

      // Save to localStorage
      const userListings = allListings.filter(l => l.id >= Date.now() - 86400000 * 365); // Last year
      localStorage.setItem('userListings', JSON.stringify(userListings.slice(sampleListings.length)));

      // Show success message
      document.getElementById('successMessage').classList.add('active');

      // Reset form
      document.getElementById('submitForm').reset();

      // Refresh listings
      displayListings(allListings);

      // Close modal after 2 seconds
      setTimeout(() => {
        closeSubmitModal();
      }, 2000);
    }

    // Enable search on Enter key
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchListings();
      }
    });

    // Close modal on outside click
    document.getElementById('submitModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeSubmitModal();
      }
    });

    // MONETIZATION: Add affiliate links
    // Example: Add Amazon Associates or eBay Partner links to relevant items
    function addAffiliateLinks() {
      // You can add affiliate links to products here
      // Example: Amazon Associates, eBay Partner Network, Racing retailers
      console.log('Monetization ready: Add your affiliate IDs');
    }

    // AUTOMATION: Fetch external listings (example)
    // This function can be enhanced to pull from RSS feeds, APIs, etc.
    async function fetchExternalListings() {
      try {
        // Example: Fetch from a motorsport RSS feed or API
        // const response = await fetch('YOUR_RSS_FEED_OR_API_URL');
        // const data = await response.json();
        // Parse and add to allListings

        console.log('Automation ready: Configure RSS feeds or APIs');
      } catch (error) {
        console.error('Error fetching external listings:', error);
      }
    }

    // Call on page load for automation
    // fetchExternalListings();
  </script>

  <!-- Google AdSense Placeholder -->
  <!-- Replace this comment with your actual AdSense code -->
  <!--
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXX"
       crossorigin="anonymous"></script>
  -->
</body>
</html>
